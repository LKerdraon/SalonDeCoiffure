{"ast":null,"code":"import { Reservation } from 'src/app/models/reservation/reservation';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/reservation.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction ReservationComponent_tr_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\")(4, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function ReservationComponent_tr_15_Template_button_click_4_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const r_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.deleteReservation(r_r1.idReservation));\n    });\n    i0.ɵɵtext(5, \"Delete\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.a.dateReservation);\n  }\n}\nclass ReservationComponent {\n  // DI : par constructeur  \n  constructor(reservationService) {\n    this.reservationService = reservationService;\n    this.reservation = new Reservation(); // any : n'importe quel type de données\n  }\n\n  ngOnInit() {\n    this.findAllReservations();\n  }\n  findAllAvis() {\n    // data : les données qui se trouvent dans le cache du navigateur\n    this.reservationService.findAll().subscribe(data => {\n      this.reservationTab = data;\n    });\n  }\n  saveAvis() {\n    this.reservationService.save(this.reservation).subscribe(() => {\n      // MAJ la liste des reservations\n      this.findAllReservations();\n      // Vider le formulaire\n      this.reservation = new Reservation();\n    });\n  }\n  deleteAvis(id) {\n    this.reservationService.delete(id).subscribe(() => {\n      this.findAllReservations();\n    });\n  }\n}\nReservationComponent.ɵfac = function ReservationComponent_Factory(t) {\n  return new (t || ReservationComponent)(i0.ɵɵdirectiveInject(i1.ReservationService));\n};\nReservationComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ReservationComponent,\n  selectors: [[\"app-reservation\"]],\n  features: [i0.ɵɵProvidersFeature([])],\n  decls: 16,\n  vars: 2,\n  consts: [[3, \"ngSubmit\"], [\"for\", \"nom\"], [\"type\", \"text\", \"name\", \"date\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\"], [4, \"ngFor\", \"ngForOf\"], [3, \"click\"]],\n  template: function ReservationComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\")(1, \"h1\");\n      i0.ɵɵtext(2, \"Ajouter une reservation\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"form\", 0);\n      i0.ɵɵlistener(\"ngSubmit\", function ReservationComponent_Template_form_ngSubmit_3_listener() {\n        return ctx.saveReservations();\n      });\n      i0.ɵɵelementStart(4, \"div\")(5, \"label\", 1);\n      i0.ɵɵtext(6, \"date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"input\", 2);\n      i0.ɵɵlistener(\"ngModelChange\", function ReservationComponent_Template_input_ngModelChange_7_listener($event) {\n        return ctx.reservation.date = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(8, \"button\", 3);\n      i0.ɵɵtext(9, \"Soumettre\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(10, \"div\")(11, \"table\")(12, \"tr\")(13, \"td\");\n      i0.ɵɵtext(14, \"Date\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(15, ReservationComponent_tr_15_Template, 6, 1, \"tr\", 4);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngModel\", ctx.reservation.date);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngForOf\", ctx.reservationTab);\n    }\n  },\n  dependencies: [i2.NgForOf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.NgModel, i3.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});\nexport { ReservationComponent };","map":{"version":3,"names":["Reservation","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","ReservationComponent_tr_15_Template_button_click_4_listener","restoredCtx","ɵɵrestoreView","_r3","r_r1","$implicit","ctx_r2","ɵɵnextContext","ɵɵresetView","deleteReservation","idReservation","ɵɵadvance","ɵɵtextInterpolate","ctx_r0","a","dateReservation","ReservationComponent","constructor","reservationService","reservation","ngOnInit","findAllReservations","findAllAvis","findAll","subscribe","data","reservationTab","saveAvis","save","deleteAvis","id","delete","ɵɵdirectiveInject","i1","ReservationService","selectors","features","ɵɵProvidersFeature","decls","vars","consts","template","ReservationComponent_Template","rf","ctx","ReservationComponent_Template_form_ngSubmit_3_listener","saveReservations","ReservationComponent_Template_input_ngModelChange_7_listener","$event","date","ɵɵtemplate","ReservationComponent_tr_15_Template","ɵɵproperty"],"sources":["/home/in-so-013/Documents/Angular/wk_angular_salon_coiffure/firstAngularApplication/firstAngularApp/src/app/reservation/reservation/reservation.component.ts","/home/in-so-013/Documents/Angular/wk_angular_salon_coiffure/firstAngularApplication/firstAngularApp/src/app/reservation/reservation/reservation.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { Reservation } from 'src/app/models/reservation/reservation';\nimport { ReservationService } from 'src/app/services/reservation.service';\n\n@Component({\n  selector: 'app-reservation',\n  templateUrl: './reservation.component.html',\n  styleUrls: ['./reservation.component.css'],\n  providers: [] \n})\nexport class ReservationComponent {\n  // Déclaration d'un tableau de reservation\n // ! : le tableau n'est pas initialisé\n reservationTab!:any[]; \n reservation:Reservation= new Reservation();// any : n'importe quel type de données\n  findAllReservations: any;\n // DI : par constructeur  \n constructor(private reservationService:ReservationService){\n }\n ngOnInit(): void {\n   this.findAllReservations();\n }\n findAllAvis(){\n   // data : les données qui se trouvent dans le cache du navigateur\n   this.reservationService.findAll().subscribe(data => {this.reservationTab = data});\n }\n saveAvis(){\n   this.reservationService.save(this.reservation).subscribe(\n     () => {\n       // MAJ la liste des reservations\n       this.findAllReservations();\n       // Vider le formulaire\n       this.reservation = new Reservation();\n     }\n   )\n }\n deleteAvis(id:number){\n   this.reservationService.delete(id).subscribe(\n     () => {\n       this.findAllReservations();\n     }\n   )\n }\n}\n","<div>\n    <h1>Ajouter une reservation</h1>\n    <form (ngSubmit)=\"saveReservations()\">\n      <div>\n        <label for=\"nom\">date</label>\n        <input type=\"text\" [(ngModel)]=\"reservation.date\" name=\"date\" required>\n      </div>\n      <button type=\"submit\">Soumettre</button>\n    </form>\n    </div>\n    <div>\n        <table>\n            <tr>\n                <td>Date</td>\n            </tr>\n            <tr *ngFor=\"let r of reservationTab\">\n                <td>{{a.dateReservation}}</td>\n                <td><button (click)=\"deleteReservation(r.idReservation)\">Delete</button></td>\n            </tr>\n        </table>\n    </div>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}